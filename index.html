<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POTUDE</title>
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="sidebar" class="sidebar">
        <div class="sidebar-header">
            <img src="POTUDE.png" alt="POTUDE" class="sidebar-logo">
        </div>
        <nav class="sidebar-nav">
            <a href="index.html" class="sidebar-link active">
                <span>Home</span>
            </a>
            <a href="reviews/index.html" class="sidebar-link">
                <span>Reviews</span>
            </a>
        </nav>
    </div>

    <button id="sidebarToggle" class="sidebar-toggle">
        <span></span>
        <span></span>
        <span></span>
    </button>

    <div class="main-content">
        <div class="container">
        <header>
            <h1>
                <span id="titleText">Play Order Tracker Ultimate Deluxe Edition</span>
            </h1>
            <div class="add-game-section">
                <button id="helpBtn" class="help-btn" title="What am I doing?">?</button>
                <input type="text" id="gameInput" placeholder="Enter game name..." maxlength="100">
                <select id="tableSelect">
                    <option value="toPlay">To Play</option>
                    <option value="completed">Completed, waiting for updates</option>
                    <option value="finished">Finished</option>
                    <option value="waiting">Waiting for Release</option>
                </select>
                <div class="image-upload-container">
                    <input type="file" id="imageInput" accept="image/*" style="display: none;">
                    <button id="imageBtn" class="image-upload-btn">Add Banner</button>
                    <span id="imageStatus" class="image-status"></span>
                </div>
                
                <div id="bannerPreview" class="banner-preview" style="display: none;">
                    <div class="preview-header">
                        <h4>Banner Preview</h4>
                        <button id="closePreview" class="preview-close">Ã—</button>
                    </div>
                    <div class="preview-container">
                        <div id="previewBanner" class="preview-banner">
                            <div class="preview-placeholder">Game Name</div>
                            <div class="preview-game-content">
                                <div class="preview-game-row">
                                    <div class="preview-order-col"></div>
                                    <div class="preview-game-col">
                                        <div class="preview-game-name"></div>
                                    </div>
                                    <div class="preview-completion-col">
                                        <div class="preview-completion-content"></div>
                                    </div>
                                    <div class="preview-actions-col">
                                        <div class="preview-action-buttons"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="position-controls">
                        <div class="control-group">
                            <label>Horizontal Position:</label>
                            <input type="range" id="posX" min="0" max="100" value="50" class="position-slider">
                            <span id="posXValue">50%</span>
                        </div>
                        <div class="control-group">
                            <label>Vertical Position:</label>
                            <input type="range" id="posY" min="0" max="100" value="50" class="position-slider">
                            <span id="posYValue">50%</span>
                        </div>
                    </div>
                    <div class="preview-actions">
                        <button id="confirmBanner" class="btn btn-primary">Confirm Banner</button>
                        <button id="cancelBanner" class="btn btn-secondary">Cancel</button>
                    </div>
                </div>
                <button id="addGameBtn">Add Game</button>
                <button id="exportBtn">Export</button>
                <button id="importBtn">Import</button>
                <input type="file" id="importFile" accept=".json" style="display: none;">
            </div>
            
            <div class="storage-tracker" data-tooltip="As I don't care about your data, we use localStorage. There's limits though, annoyingly. I do some fancy things to reduce image sizes though.">
                <div class="storage-info">
                    <span class="storage-text">Storage Usage: </span>
                    <span id="storageUsed">0.0 KB</span>
                    <span class="storage-text"> / 10 MB</span>
                </div>
                <div class="storage-bar">
                    <div id="storageProgress" class="storage-progress"></div>
                </div>
            </div>
        </header>

        <main class="tables-container">
            <div class="table-section">
                <h2>To Play</h2>
                <div class="table-wrapper">
                    <table id="toPlayTable">
                        <thead>
                            <tr>
                                <th class="order-col">#</th>
                                <th class="game-col">Game</th>
                                <th class="completion-col">Completion</th>
                                <th class="actions-col">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="toPlayBody">
                        </tbody>
                    </table>
                    <div class="empty-state" id="toPlayEmpty">
                        <p>No games in queue. Add some games to get started!</p>
                    </div>
                </div>
            </div>

            <div class="table-section">
                <h2>Completed, waiting for updates</h2>
                <div class="table-wrapper">
                    <table id="completedTable">
                        <thead>
                            <tr>
                                <th class="game-col">Game</th>
                                <th class="completion-col">Completion</th>
                                <th class="actions-col">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="completedBody">
                        </tbody>
                    </table>
                    <div class="empty-state" id="completedEmpty">
                        <p>No completed games waiting for updates.</p>
                    </div>
                </div>
            </div>

            <div class="table-section">
                <h2>Finished</h2>
                <div class="table-wrapper">
                    <table id="finishedTable">
                        <thead>
                            <tr>
                                <th class="game-col">Game</th>
                                <th class="completion-col">Completion %</th>
                                <th class="actions-col">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="finishedBody">
                        </tbody>
                    </table>
                    <div class="empty-state" id="finishedEmpty">
                        <p>No finished games yet.</p>
                    </div>
                </div>
            </div>

            <div class="table-section">
                <h2>Waiting for Release</h2>
                <div class="table-wrapper">
                    <table id="waitingTable">
                        <thead>
                            <tr>
                                <th class="game-col">Game</th>
                                <th class="release-col">Release Date</th>
                                <th class="actions-col">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="waitingBody">
                        </tbody>
                    </table>
                    <div class="empty-state" id="waitingEmpty">
                        <p>No games waiting for release.</p>
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <p>Coded by Ari with suggestions and ideas from Cryo.</p>
        </footer>
    </div>

        <div id="customModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Confirm</h3>
            </div>
            <div class="modal-body">
                <p id="modalMessage">Are you sure?</p>
            </div>
            <div class="modal-footer">
                <button id="modalCancel" class="modal-btn modal-btn-secondary">Cancel</button>
                <button id="modalConfirm" class="modal-btn modal-btn-primary">OK</button>
            </div>
        </div>
    </div>

    <div id="helpModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3>What am I doing?</h3>
            </div>
            <div class="modal-body">
                <p>Welcome to POTUDE. It's a neat little tracker all stored locally to you as I do not care about your data at all. Enter a game name, choose a section to place it in and if you want, you can add a banner too to make it even prettier.</p>
                <br>
                <p>Images are automatically compressed to WebP/JPEG format and resized to save localStorage space. No quality loss you'll notice, but your localStorage will be grateful.</p>
                <br>
                <p>On the left, you have a sidebar with this page and a reviews page if you want to review the games you've added to your finished tab. (You can click and drag games around where you need them!)</p>
                <br>
                <p>I'll be updating this with whatever neat things I can think of. Thanks for using it.</p>
            </div>
            <div class="modal-footer">
                <button id="helpClose" class="modal-btn modal-btn-primary">Got it!</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>